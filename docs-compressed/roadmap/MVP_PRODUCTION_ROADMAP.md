PT-2 2.0.0 2025-10-12 Phase 5 Slices Player Management Tracking HORIZONTAL VERTICAL

Architecture Strategy_ARCHITECTURE layers architecture vertical feature delivery services-time performance Feature delivery domain Management Visit Tracking UI Orchestration 2-3 domains Casino Phase 3: HORIZONTAL (12 69 tests 4: VERTICAL Player Management (15 22 tests 100% 5 VERTICAL Visit Tracking (7 26 tests 100%

Phases 0-5 Management Visit State Phase 6 RatingSlip MTL Phase 3: infrastructure 4: Player Management 5 Visit Tracking 26 State Management Strategy Wave-based workflow (36-47% time savings Zero technical debt Service layer 7/8.5% Loyalty deferred State management 100% VERTICAL slices 2/3 Remaining RatingSlip MTL UI Production Production-ready Casino Tracker MVP domains 4-5 weeks launch 6 8

Phase Status Overview Completion Key Deliverables Complete 100% CI/CD Testing Security Skeleton RLS 100% JWT helpers Audit logging Compliance tables 100% Service Layer (7/8 Template Test standards 100% State Management Infrastructure React Query Server Actions Hook Templates Player Management Feature 22 tests Visit Tracking 26 tests 0% RatingSlip Feature MTL UI 0% Business Workflows Table Context UI Production Hardening Performance Deployment

Phase 2: Service Layer Foundation core domain services PRD compliance Player Service 8 tests Visit Service 10 RatingSlip Service 10 PlayerFinancial Service 16 tests validation queries Casino Service 13 tests location queries TableContext Service 22 tests MTL Service compliance CTR aggregation SERVICE_TEMPLATE.md Shared infrastructure-wrapper Test Location Standardization ServiceResult pattern services 4x improvement 2025-10-10 >80% Zero

Phase 3: State Management Infrastructure HORIZONTAL infrastructure future features Wave parallel execution Week 3: HORIZONTAL Foundation (12 Parallel Infrastructure React Query Server Action wrapper 13 UI stores 20 ADR-003 draft 2: Hook (3 Service Query Mutation 30 query key patterns 7 domains 3 cache invalidation strategies Integration (4 32 integration tests 6 services validated 2 cross-service workflows Performance baselines 4: ADR (1 ADR-003 State Management Strategy decisions Implementation references 2025-10-10 32 passed 69/69 23

Phase 4: Player Management Feature First VERTICAL feature slice Wave-based execution parallel Wave 2 1: Server Actions (4 hours/actions/player-actions.ts 6 server actions update delete search Comprehensive error handling (5 types wrapper integration Type safety end-to-end passed Wave 2: Hooks (3 hours 6 hooks/player/ use-player 5min 2min-search removal 8/8 passed Wave 3: UI Components (6 hours 4 components/players/ player-list search 6.4KB-form validation 7.7KB-detail 4.8KB player-delete-dialog6.1KB 8/8 passed Wave E2E Tests (4 hours Comprehensive suites 22 integration 0.828s 18 Cypress browser Performance benchmarks < 1s Error scenarios 6/6 passed 2025-10-12 28/28 22/22,200 READY

Phase 5 Visit Tracking Feature Second VERTICAL feature slice Enhanced delegation mock data strategy Wave 1: Service Extensions (1 hour Extended visit service/crud.ts/index.ts Type safety 6/6 passed Wave 2A Server Actions (1.5 hours/actions/visit-actions.ts 6 server actions error handling FK violation handling Validation error mapping 6/6 passed Wave 2B Query Hooks (1 hour 2A Query hooks/visit-visit-search player 4/4 passed Wave 3A Mutation Hooks hours 3B-create-visit-visit-delete-visit removal 4/4 passed Wave 3B UI Components hours 4 components/visits/-list-form-detailvisit 8/8 passed Wave E2E Tests hours 26 integration 0.802s 20 Cypress browser performance benchmarks<1s <300ms error coverage 6/6 passed 2025-10-12 Quality 28/28 26/26 Execution ~7 hours 36-47% savings Rework First-time quality success READY

Phase 6 RatingSlip MTL 12-13 VERTICAL slice Compliance UI RatingSlip MTL Week 12 RatingSlip Slice #3 Phase 4/5 Service Extend RatingSlip queries Server Actions Query hours 6 actions delete 3 query hooks Mutation Hooks UI (5 hours 3 mutation hooks 4 UI components delete E2E hours 20 integration tests Point calculation Performance benchmarks hours 100% gates Week 13 MTL Compliance UI Transaction (4 hours CTR threshold monitoring Gaming day calculation Transaction history (3 CTR report metrics Audit trail validation MTL RatingSlip Compliance policy E2E compliance workflows hours Complete MTL UI Compliance reporting Regulatory requirements 6Week 13

Phase 7 Business Workflows 14-15) Cross-domain orchestration table management HYBRID workflows domains Week 14 Workflows calculation MTL rollback Error recovery Performance validation Week 15 Table Context Management open Shift handover Inventory tracking Fill slip integration Business rule validation tests Documentation End Week 15 2025-11-14) Full visit automation Table context management Cross-domain workflows Business logic

Phase 8 Production 16-17) Performance budgets production-ready deployment hardening domains 16 Performance Optimization imports Code splitting Tree-shaking Initial JS 250KB Database index query optimization N+1 query elimination React Query tuning LCP â‰¤ 2.5s TBT 200ms Performance Smoke test automation Week 17 Production Deployment RLS audit JWT validation API rate limiting CORS configuration Environment variable validation Rollback Health Monitoring tests Load testing Backup Incident response Documentation 8 Week 17 Performance budgets Security hardening Deployment automation Monitoring MVP launch-ready

Critical Path Dependencies Completed Foundation Phase 2 3 Infrastructure 4 VERTICAL 5 VERTICAL Remaining Path 6 VERTICAL MTL UI 7 Workflows 8 Hardening MVP LAUNCH Parallelization RatingSlip MTL developers Visit Table workflows Bundle optimization Query optimization

Success Metrics Phase 2 7/8 services Zero PRD violations Test coverage >80% 4x velocity improvement 3 React Query remote Server 6 error codes 69 tests ADR-003 4 CRUD functionality 100% gates 22 E2E tests WCAG 2.1 accessibility 5 lifecycle management 100% gates 26 E2E tests List Search Zero technical debt 6-8 RatingSlip MTL compliance Business workflows LCP 2.5s Initial JS 250KB Zero security warnings Uptime >99.9%

Updated Milestone Schedule Target Date Status Deliverables 2 2025-10-10 services search/query 3 2025-10-10 State management infrastructure 4 2025-10-12 Player Management 5 Visit Tracking 6 2025-10-31 RatingSlip MTL UI 7 2025-11-14 Business workflows 8 2025-11-28 Production hardening 2025-12-01 Production deployment 7 weeks

Validated Patterns Practices Wave Workflow 36-47% parallel execution 100% first gate pass 4-5 Service extensions (1h Actions Query hooks Mutation UI (5h E2E tests Quality 56 gates passed First-time quality Validate wave Parallel Delegation 7h parallel 11-15h sequential Mock data strategy Clear interface contracts Independent wave execution Cache Strategies Create operations Update Delete operations

Deferred Post-MVP Scope Multi-casino reporting Mobile Staff management Offline mode real-time Internationalization audit trail Loyalty Service-MVP 9 Multi-casino expansion 10 11 Mobile optimization 12 Loyalty integration

Team Structure agents 100% pass zero rework 36-47% time savings parallelization Recommended Team 6-8 Architecture code review PRD compliance Full-Stack implementation Test automation compliance validation CI deployment monitoring 8) Optional UI components Bundle optimization

Hybrid Architecture Model_ARCHITECTURE Phase 3 VERTICAL Phases 4-5 Visit independent deployable user-facing Phase 7 workflows-domain Phase HORIZONTAL service layer 7 services state management Phases 4-5 VERTICAL UI 8 HORIZONTAL hardening security deployment Quality anti-pattern checks TypeScript mode Test coverage >80% >90% 4-5 HORIZONTAL VERTICAL categorization First-time quality rework 4-5 Documentation Requirements ADR-003 State Management Strategy completion 3-5 test API documentation

Actions Week Replace data Visit UI live hooks Cypress browser E2E tests Phases 4-5 Test workflows dev environment Phase RatingSlip Next Week 6 Wave Extend RatingSlip search Server actions query hooks Mutation hooks UI components E2E tests 2025-11-02) UI Transaction compliance dashboard Visit MTL RatingSlip CTR detection audit trails 6 Completion

Appendix Technology Stack Validated Next.js React 19, TypeScript 5 Supabase Auth Realtime React Query 5 5 Radix Tailwind Jest React Testing Library Cypress GitHub Actions Vercel Supabase Infrastructure Supabase PostgreSQL constraints validated Supabase Supabase Phase 7) Supabase uploads

Questions Stakeholder Review-Time Phase 7 post-MVP Single multi-casino MVP MVP SUPERVISOR PIT_BOSS AUDITOR CTR compliance reports post-MVP desktop-first 99.9% uptime MVP Bundle size 250KB 2.0.0 2025-10-12 Phase 6 Phases 0-5 Complete 62.5% Phases 6-8 weeks_ARCHITECTURE_QUICK 100% gates Phases 4-5
