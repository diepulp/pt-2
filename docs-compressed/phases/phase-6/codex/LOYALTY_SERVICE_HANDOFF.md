Loyalty Service Development Convert gameplay telemetry into player rewards points logic tier progression preference management Compute points RatingSlip/Visit telemetry Record points transactions Tier Management player tier thresholds progress reward communication preferences/loyalty index ledger player_loyalty business Points calculation queries getBalance telemetry-mapper Map RatingSlip data Loyalty input Event Flow flowchart Analytics/Marketing Ownership Gameplay metrics RatingSlip Reward policy logic Loyalty Player identity Casino config Preference data Service bet duration table type Owns gameplay data interpretation reward meaning calculation tier decision not measurementLoyalty defines play value persistence transactions audit point history emission points tier Publishes point calculation Business reward not telemetry RatingSlip measures activity Loyalty evaluates worth Policy double point values add multipliers tier RatingSlip Auditability owner value assignment LoyaltyLedger points granted not gameplay concern

Domain Interaction Model flowchart Rating Loyalty "RatingSlipCompletedEvent avgBet duration Conceptual Divide Layer RatingSlip Player bet $200 40 minutes Loyalty rewards 800 points Gold tier Implementation Guideline services loyalty index Factory ledger balance business point calculation queries getBalance getTierProgress models LoyaltyLedger PlayerLoyalty telemetry-mapper RatingSlip Loyalty business calculatePoints multiplier GAME Integration Responsibility RatingSlipService_SLIP playerId averageBet durationMinutes gameType LoyaltyService_SLIP calculatePoints playerLoyalty.updateBalance Compute points RatingSlipService policy leak Store points RatingSlip table single-source-truthdomains mutate loyalty balance concurrency nightmare Final Rule player activity reward LoyaltyService activity RatingSlipService
