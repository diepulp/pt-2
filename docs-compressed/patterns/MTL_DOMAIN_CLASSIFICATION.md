Compliance AML Multiple Transaction Log Service Domain Classification Compliance Regulatory Bounded Context Monitor aggregate-in-out anti-money-laundering Transaction Reporting compliance Sensitivity High identifiable Consumers Compliance Officers Accounting Gaming Supervisors System Auditors Purpose core compliance subsystem auditable records monetary gaming floor CTR compliance transaction timelines responsibilities Record-in transactions operational threshold $2,500â€“ Aggregate transactions per patron day CTR threshold detection $10,000 watchlist alerts Day stamp transaction gaming day boundary 06:00 Classify patron totals categories alerts Generate daily exports Accounting AML filing 5+ year retention immutability edits audit notes\*\*Cross-Domain Correlation-Only Read Loyalty RatingSlip Casino Settings enrichment Relationships Domains Core Configuration source (timezone gamingDayStart compute `gaming_day systems / Patron Referential (identity.id.name None Link cash transactions patron profile anonymous descriptor

Referential Access Control `staff.id.role.signature None Enforce accountability transaction **RatingSlip Referential_slip.id_id `gaming_table_id Associate MTL entries gaming session behavioral reconstruction \*\*Loyalty-only contextual `loyalty_ledger_id_slip_id_id `transaction_type_BONUS `points_change `created_at_id `correlation_id `idempotency_key_loyalty `tier` None compliance analysts reviewing monetary patterns Cross-reference_slip_id_id cash/chip transactions with loyalty events (bonuses oversight Identify abnormal manual bonus frequency timing cash spikes suspicious pattern display nearby Loyalty events timelinetriage bonuses threshold breaches MTL Loyalty No monetary inference points AML risk scoring loyalty tiers totals write operations Loyalty Read-only joins session rating correlation IDs Rule MTL read-only compliance oversight domain cash/chip flow KYC CTR filings Interfaces Data Flow Source Target Staff MTL transactions reports Scheduler export trigger Accounting CTR exports Compliance Dashboard alerts audit queries-Context Loyalty RatingSlip Contextual correlation Read-only

Data Ownership Table Access `mtl_entry Service Read/Write-only `casino_settings`Read-only`mtl_patron_aggregates-only `mtl_threshold_monitor `loyalty_ledger_loyalty-only `rating_slip` Read-only Integration Pattern Monolith bounded contexts Internal read models same-DB access REST/RPC gateway external service data No coupling event queue MVP stage Domain events`MtlEntryRecorded defined not published drive alerts sync external AML case system 6. Service Responsibilities Enforce invariants (immutable entries valid identity fields non-negative Coordinate CRUD queries threshold checksServiceResult PostgreSQL aggregation views compute gaming day Minimal adapters Read-only Loyalty RatingSlip exports CSV No bidirectional coupling Record form dashboard report downloads Lean React Query Next.js app Data Lifecycle Retention fields 5 years Nightly backup storage Scale Alignment k transactions/day CQRS Postgres views sub-500 ms queries React Query caching Integration Contracts

Service Interface Direction Purpose Casino gaming day thresholds Player identification correlation RatingSlip linkage Loyalty `LoyaltyLedgerDTO enrichment Staff `StaffIdentityDTO accountability compliance time ledger cash activity patron staff correlates RatingSlip Loyalty data contextual oversight boundary discipline ensures compliance reliability MVP integrity future scaling expansion
